{"__resolveType":"site/loaders/ContentLoad.ts","content":{"links":[],"topics":["Matchers","Routes","Imports","Handlers","Flag"],"title":"10 - Mastering Routes, Matchers and Imports: This is the Way (of the Web)","publishDate":"2024-05-24","content":"<p>Para as atividades de hoje, vamos criar um matcher e fazer o uso de uma biblioteca externa.</p><p></p><h2><strong>Matcher</strong></h2><p></p><p>Crie um matcher <code>utm.ts</code> que irá receber como propriedade:</p><ul><li><p>campanhas: string[]</p></li></ul><p></p><p>Onde campanhas representa um array de strings com nomes de possíveis campanhas. Cada string dessa pode ser uma palavra por si só, ou uma string terminada em * (wildcard). A campanha com wildcard deve satisfazer campanhas que comecem com a mesma string antes do asterísco. Exemplos:</p><ul><li><p>campanha \"google\": apenas dá match com google</p></li><li><p>campanha \"instagram_\": dá match com nomes como...</p><ul><li><p>instagram_</p></li><li><p>instagram_venda</p></li><li><p>instagram_promo_flash</p></li></ul></li></ul><p></p><p>Cada campanha dessas deve ser testada contra o valor na query string utm_campaign passada na url da página.</p><p></p><h2><strong>Import</strong></h2><p></p><p>Vamos fazer agora o uso de uma biblioteca de toasts (notificações) no nosso sistema. Identifique um pacote npm de notificações e instale, e use, no seu sistema.</p><p></p><p>Quando o usuário salvar uma observação, um toast deve aparecer agradecendo o usuário. Caso tenha dúvida sobre qual sistema adotar, tente adaptar a biblioteca <code>react-toastify</code>. E caso utilize o esm para adaptar bibliotecas react, é preciso fazer uma conversão para o preact, como no exemplo abaixo:</p><p></p><p><code>https://esm.sh/react-toastify@9.1.1?&amp;external=react,react-dom&amp;alias=react/jsx-runtime:preact/jsx-runtime&amp;deps=preact@10.19.2&amp;target=es2022</code></p><p></p><p>As dependências do React podem precisar de outro import para serem atendidas. O import acima está esperando justamente por essas dependências externas: <code>\"react\":</code></p><p></p><p><code>\"https://esm.sh/preact@10.19.2/compat\",</code></p><p></p><p>Uma alternativa, é fazer uso do <em>toastify-js</em>, outra biblioteca que pode ser importada diretamente.</p><p></p><p>Estas bibliotecas podem exigir que o usuário faça uso de imports de CSS para estilizar o toast ao longo da página, além de adicionar um componente de Toast que afeta todas as páginas. Para tanto, altere o arquivo _routes/app.tsx</p>"}}