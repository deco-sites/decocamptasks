{"__resolveType":"site/loaders/ContentLoad.ts","content":{"links":[{"bulletPoints":[],"description":"09 - Advanced Loaders and Submitting Data with Actions","url":"https://drive.google.com/file/d/16ZzwbN1qW-EoX20rrdEyBeeVop6LvnPM/view?usp=drive_link"},{"bulletPoints":[],"url":"https://drive.google.com/file/d/1mMGUljBcZ4nwIlhWOd_4IVDa57ePC3Sf/view?usp=drive_link","description":"Live Code"}],"topics":["actions","ecommerce loaders"],"title":"09 - Advanced Loaders and Submitting Data with Actions","publishDate":"2024-05-23","content":"<h2>Adicionando Observações</h2><p>Para esta atividade, vamos aproveitar a API oferecida anteriormente para criar uma action. A action deve operar no endpoint POST do registro de eventos, e deve ser invocada pelo botão salvar no seu componente de ProductAd.</p><p></p><p>Lembrando: não queremos que o cliente faça um fetch direto na rota do serviço de observações. É importante trabalhar com uma camada tipada, e os loaders/actions permitem essa construção!</p><p></p><h2>Adaptando Estatísticas de um Produto</h2><p></p><p>Faça agora com que um produto tenha os comentários/observações em suas estatísticas, como indicado no protótipo abaixo:</p><p></p><p><img src=\"https://ozksgdmyrqcxcwhnbepg.supabase.co/storage/v1/object/public/assets/9261/7298fa30-f8d5-4529-92ac-3167b1fc96ed\"></p><p>No entanto, e importante:</p><ul><li><p>O loader de comentários não deve retornar comentários vazios ou com menos de 5 caracteres. Note que o usuário pode registrar tais observações, é apenas o loader que não retorna esses dados ao consultar um produto.</p></li></ul><p></p><h2>Loaders de Ecommerce</h2><p>Sabendo que você tem conhecimento agora um pouco sobre os nossos loaders e actions de Apps, configure seu ProdutAd para receber a propriedade product com o tipo: ProductDetailsPage | null, sendo este tipo importado do app commerce/types.ts.</p><p></p><p>Por padrão, o storefront já tem uma loja configurada:</p><ul><li><p>App: VTEX</p></li><li><p>Account: bravtexfashionstore</p></li><li><p>Public store URL: <a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"http://fashion.bravtexstores.com.br\">fashion.bravtexstores.com.br</a></p></li><li><p>Default Sales Channel: 1</p></li></ul><p></p><p>Você é livre para usar outra integração ou um catálogo de outra loja. Caso faça uso de outra loja, crie um banner ou alerta no header sinalizando que esta é uma loja de demonstração.</p>"}}